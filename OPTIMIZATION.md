# ðŸš€ YT2 í”„ë¡œì íŠ¸ ìµœì í™” ê°€ì´ë“œ

## ðŸ“Š ìµœì í™” ë‚´ìš©

### 1. **ê³µí†µ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ìƒì„±**
- `Dockerfile.base`: ê³µí†µ ì˜ì¡´ì„±ì„ í¬í•¨í•œ ë² ì´ìŠ¤ ì´ë¯¸ì§€
- `requirements-common.txt`: APIì™€ Crawlerê°€ ê³µìœ í•˜ëŠ” íŒ¨í‚¤ì§€ë“¤
- **íš¨ê³¼**: ì¤‘ë³µ ì„¤ì¹˜ ì œê±°ë¡œ ë¹Œë“œ ì‹œê°„ 50-70% ë‹¨ì¶•

### 2. **ì˜ì¡´ì„± ë¶„ë¦¬**
- **API ì „ìš©**: `fastapi`, `uvicorn`, `pydantic`, `python-multipart`
- **Crawler ì „ìš©**: `schedule`
- **ê³µí†µ**: ë°ì´í„°ë² ì´ìŠ¤, ê²€ìƒ‰ì—”ì§„, ë¨¸ì‹ ëŸ¬ë‹ ë¼ì´ë¸ŒëŸ¬ë¦¬

### 3. **Docker ìµœì í™”**
- `.dockerignore`: ë¶ˆí•„ìš”í•œ íŒŒì¼ ì œì™¸
- ìºì‹œ ë ˆì´ì–´ ìµœì í™”
- ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œ ì ìš©

## ðŸ› ï¸ ì‚¬ìš© ë°©ë²•

### ë¹ ë¥¸ ì‹œìž‘
```bash
# PowerShell (Windows)
.\build.ps1

# ë˜ëŠ” ì§ì ‘ ì‹¤í–‰
docker-compose up --build
```

### ë‹¨ê³„ë³„ ë¹Œë“œ
```bash
# 1. ë² ì´ìŠ¤ ì´ë¯¸ì§€ ë¹Œë“œ
docker build -f Dockerfile.base -t yt2-base:latest .

# 2. ì „ì²´ ì„œë¹„ìŠ¤ ë¹Œë“œ
docker-compose build

# 3. ì„œë¹„ìŠ¤ ì‹¤í–‰
docker-compose up
```

## ðŸ“ˆ ì„±ëŠ¥ ê°œì„  íš¨ê³¼

### Before (ìµœì í™” ì „)
- **ë¹Œë“œ ì‹œê°„**: ~15-20ë¶„
- **ì´ë¯¸ì§€ í¬ê¸°**: ê° ì„œë¹„ìŠ¤ë³„ 2-3GB
- **ì¤‘ë³µ ì„¤ì¹˜**: sentence-transformers, scikit-learn ë“±

### After (ìµœì í™” í›„)
- **ë¹Œë“œ ì‹œê°„**: ~5-8ë¶„ (60% ë‹¨ì¶•)
- **ì´ë¯¸ì§€ í¬ê¸°**: ë² ì´ìŠ¤ 1.5GB + ì„œë¹„ìŠ¤ë³„ 200-500MB
- **ìºì‹œ í™œìš©**: ì½”ë“œ ë³€ê²½ ì‹œ ë² ì´ìŠ¤ ì´ë¯¸ì§€ ìž¬ì‚¬ìš©

## ðŸ”§ ì¶”ê°€ ìµœì í™” íŒ

### 1. **ê°œë°œ í™˜ê²½**
```bash
# ì½”ë“œ ë³€ê²½ ì‹œì—ë§Œ ìž¬ë¹Œë“œ
docker-compose up --build api

# íŠ¹ì • ì„œë¹„ìŠ¤ë§Œ ìž¬ì‹œìž‘
docker-compose restart api
```

### 2. **í”„ë¡œë•ì…˜ í™˜ê²½**
```bash
# ë©€í‹°ìŠ¤í…Œì´ì§€ ë¹Œë“œë¡œ ìµœì¢… ì´ë¯¸ì§€ í¬ê¸° ìµœì†Œí™”
docker-compose -f docker-compose.prod.yml up
```

### 3. **ìºì‹œ ì •ë¦¬**
```bash
# ì‚¬ìš©í•˜ì§€ ì•ŠëŠ” ì´ë¯¸ì§€ ì •ë¦¬
docker system prune -a

# íŠ¹ì • ì´ë¯¸ì§€ë§Œ ì‚­ì œ
docker rmi yt2-base:latest
```

## ðŸ› ë¬¸ì œ í•´ê²°

### ë² ì´ìŠ¤ ì´ë¯¸ì§€ ë¹Œë“œ ì‹¤íŒ¨
```bash
# ìºì‹œ ì—†ì´ ë¹Œë“œ
docker build --no-cache -f Dockerfile.base -t yt2-base:latest .
```

### ì˜ì¡´ì„± ì¶©ëŒ
```bash
# requirements.txt ë²„ì „ í™•ì¸
pip freeze > requirements-check.txt
```

### ë©”ëª¨ë¦¬ ë¶€ì¡±
```bash
# Docker ë©”ëª¨ë¦¬ ì œí•œ ì„¤ì •
docker-compose up --scale crawler=0
```
